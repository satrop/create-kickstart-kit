---
import "../../styles/demo.scss";

import Layout from "../../layouts/Layout.astro";
import InlineImage from "../../components/InlineImage/InlineImage.astro";
import Figure from "../../components/Figure/Figure.astro";
---

<Layout title="Images Demo - Components">
  <Fragment slot="main">
    <main id="main" class="layout-main" aria-label="Main content">
      <div class="component-demo">
        <header class="demo-header">
          <div class="section-grid">
            <div class="col-full">
              <nav class="demo-nav">
                <a href="./components.html" class="btn btn--outline btn--small">← Back to Components</a>
              </nav>
              <h1>Image Components</h1>
              <p class="demo-subtitle">
                Showcase of the InlineImage and Figure components with various configurations and use cases.
              </p>
            </div>
          </div>
        </header>

        <section class="demo-section">
          <div class="section-grid">
            <div class="col-full">
              <h2>Inline Images</h2>
              <p>Inline images are perfect for embedding images within text content with text wrapping around them.</p>

              <div class="demo-example">
                <div class="demo-preview contain-floats">
                  <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                    <InlineImage
                      src="/images/image1.jpg"
                      alt="Sample image 1"
                      align="left"
                      size="small"
                      caption="Small left-aligned image"
                    />
                    Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
                    exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit
                    in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
                  </p>

                  <p>
                    Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id
                    est laborum.
                    <InlineImage
                      src="/images/image2.jpg"
                      alt="Sample image 2"
                      align="right"
                      size="medium"
                      caption="Medium right-aligned image"
                    />
                    Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam
                    rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt
                    explicabo.
                  </p>
                </div>

                <div class="demo-code">
                  <pre><code>&lt;p&gt;
  Lorem ipsum dolor sit amet, consectetur adipiscing elit.
  &lt;InlineImage
    src="/images/image1.jpg"
    alt="Sample image 1"
    align="left"
    size="small"
    caption="Small left-aligned image"
  /&gt;
  Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua...
&lt;/p&gt;

&lt;p&gt;
  Excepteur sint occaecat cupidatat non proident...
  &lt;InlineImage
    src="/images/image2.jpg"
    alt="Sample image 2"
    align="right"
    size="medium"
    caption="Medium right-aligned image"
  /&gt;
  Sed ut perspiciatis unde omnis iste natus error...
&lt;/p&gt;</code></pre>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="demo-section">
          <div class="section-grid">
            <div class="col-full">
              <h2>Figure Components</h2>
              <p>Figure components provide semantic markup for standalone images with captions.</p>

              <div class="demo-example">
                <div class="demo-preview">
                  <Figure
                    src="/images/image5.jpg"
                    alt="Landscape photography example"
                    caption="A beautiful landscape captured during golden hour"
                    size="medium"
                    align="center"
                  />

                  <Figure
                    src="/images/image6.jpg"
                    alt="Architecture photography"
                    caption="Modern architecture showcasing clean lines and geometric patterns"
                    size="large"
                    align="center"
                  />
                </div>

                <div class="demo-code">
                  <pre><code>&lt;Figure
  src="/images/image5.jpg"
  alt="Landscape photography example"
  caption="A beautiful landscape captured during golden hour"
  size="medium"
  align="center"
/&gt;

&lt;Figure
  src="/images/image6.jpg"
  alt="Architecture photography"
  caption="Modern architecture showcasing clean lines and geometric patterns"
  size="large"
  align="center"
/&gt;</code></pre>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="demo-section">
          <div class="section-grid">
            <div class="col-full">
              <h2>Aligned Figures</h2>
              <p>Figures can be aligned to flow with text content for supporting visuals.</p>

              <div class="demo-example">
                <div class="demo-preview contain-floats">
                  <Figure
                    src="/images/image1.jpg"
                    alt="Small figure example"
                    caption="Small left-aligned figure"
                    size="small"
                    align="left"
                  />

                  <p>
                    This paragraph demonstrates how content flows around left-aligned figures. The figure floats to the
                    left while this text content flows naturally around it. This is particularly useful for smaller
                    images that support the main content without overwhelming it.
                  </p>

                  <Figure
                    src="/images/image2.jpg"
                    alt="Small figure example"
                    caption="Small right-aligned figure with detailed caption"
                    size="small"
                    align="right"
                  />

                  <p>
                    Similarly, right-aligned figures work well for supporting images. The text flows around the image
                    naturally, creating an organic reading experience. This is especially effective for portraits,
                    icons, or supplementary visual content that enhances the main text.
                  </p>
                </div>

                <div class="demo-code">
                  <pre><code>&lt;Figure
  src="/images/image1.jpg"
  alt="Small figure example"
  caption="Small left-aligned figure"
  size="small"
  align="left"
/&gt;

&lt;p&gt;
  This paragraph demonstrates how content flows around left-aligned figures...
&lt;/p&gt;

&lt;Figure
  src="/images/image2.jpg"
  alt="Small figure example"
  caption="Small right-aligned figure with detailed caption"
  size="small"
  align="right"
/&gt;

&lt;p&gt;
  Similarly, right-aligned figures work well for supporting images...
&lt;/p&gt;</code></pre>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="demo-section">
          <div class="section-grid">
            <div class="col-full">
              <h2>Advanced Features</h2>
              <p>Rich caption formatting, full-width figures, and loading states.</p>

              <div class="demo-example">
                <div class="demo-preview">
                  <Figure
                    src="/images/image7.jpg"
                    alt="Team collaboration"
                    caption="Our development team collaborating on the <em>latest project</em>. Photo by <strong>John Photographer</strong>. <a href='#'>View gallery</a>."
                    size="large"
                    align="center"
                  />

                  <Figure
                    src="/images/image3.jpg"
                    alt="Hero image example"
                    caption="Full-width figure perfect for hero images and impactful visuals"
                    size="full"
                    priority={true}
                    lazy={false}
                  />
                </div>

                <div class="demo-code">
                  <pre><code>&lt;Figure
  src="/images/image7.jpg"
  alt="Team collaboration"
  caption="Our development team collaborating on the &lt;em&gt;latest project&lt;/em&gt;. Photo by &lt;strong&gt;John Photographer&lt;/strong&gt;. &lt;a href='#'&gt;View gallery&lt;/a&gt;."
  size="large"
  align="center"
/&gt;

&lt;Figure
  src="/images/image3.jpg"
  alt="Hero image example"
  caption="Full-width figure perfect for hero images and impactful visuals"
  size="full"
  priority={true}
  lazy={false}
/&gt;</code></pre>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="demo-section">
          <div class="section-grid">
            <div class="col-full">
              <h2>Image Loading States</h2>
              <p>All images use the global image handler for consistent loading states and error handling.</p>

              <div class="demo-example">
                <div class="demo-preview">
                  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
                    <div>
                      <h4>With Fallback</h4>
                      <Figure
                        src="/images/might-not-exist.jpg"
                        alt="Image with fallback"
                        fallback="/images/image1.jpg"
                        caption="This image will fallback to a working image if the primary fails"
                        size="medium"
                      />
                    </div>

                    <div>
                      <h4>Lazy Loading</h4>
                      <Figure
                        src="/images/image4.jpg"
                        alt="Lazy loaded image"
                        caption="This image will load when it comes into view"
                        size="medium"
                        lazy={true}
                      />
                    </div>
                  </div>
                </div>

                <div class="demo-code">
                  <pre><code>&lt;Figure
  src="/images/might-not-exist.jpg"
  alt="Image with fallback"
  fallback="/images/image1.jpg"
  caption="This image will fallback to a working image if the primary fails"
  size="medium"
/&gt;

&lt;Figure
  src="/images/image4.jpg"
  alt="Lazy loaded image"
  caption="This image will load when it comes into view"
  size="medium"
  lazy={true}
/&gt;</code></pre>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="demo-section">
          <div class="section-grid">
            <div class="col-full">
              <h2>Props Reference</h2>
            </div>
          </div>

          <div class="section-grid">
            <div class="col-full">
              <h3>InlineImage Props</h3>
              <div class="props-table">
                <table>
                  <thead>
                    <tr>
                      <th>Prop</th>
                      <th>Type</th>
                      <th>Default</th>
                      <th>Description</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td><code>src</code></td>
                      <td><code>string</code></td>
                      <td><code>required</code></td>
                      <td>The image source URL or path</td>
                    </tr>
                    <tr>
                      <td><code>alt</code></td>
                      <td><code>string</code></td>
                      <td><code>required</code></td>
                      <td>Alternative text for accessibility</td>
                    </tr>
                    <tr>
                      <td><code>align</code></td>
                      <td><code>"left" | "right"</code></td>
                      <td><code>"left"</code></td>
                      <td>How the image aligns with surrounding text</td>
                    </tr>
                    <tr>
                      <td><code>size</code></td>
                      <td><code>"small" | "medium" | "large" | "auto"</code></td>
                      <td><code>"medium"</code></td>
                      <td>Predefined size or auto for natural dimensions</td>
                    </tr>
                    <tr>
                      <td><code>caption</code></td>
                      <td><code>string</code></td>
                      <td><code>undefined</code></td>
                      <td>Optional caption text displayed below the image</td>
                    </tr>
                    <tr>
                      <td><code>lazy</code></td>
                      <td><code>boolean</code></td>
                      <td><code>true</code></td>
                      <td>Whether to lazy load the image</td>
                    </tr>
                    <tr>
                      <td><code>fallback</code></td>
                      <td><code>string</code></td>
                      <td><code>undefined</code></td>
                      <td>Fallback image URL if the primary image fails to load</td>
                    </tr>
                    <tr>
                      <td><code>priority</code></td>
                      <td><code>boolean</code></td>
                      <td><code>false</code></td>
                      <td>High priority loading for above-the-fold images</td>
                    </tr>
                  </tbody>
                </table>
              </div>

              <h3>Figure Props</h3>
              <div class="props-table">
                <table>
                  <thead>
                    <tr>
                      <th>Prop</th>
                      <th>Type</th>
                      <th>Default</th>
                      <th>Description</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td><code>src</code></td>
                      <td><code>string</code></td>
                      <td><code>required</code></td>
                      <td>The image source URL or path</td>
                    </tr>
                    <tr>
                      <td><code>alt</code></td>
                      <td><code>string</code></td>
                      <td><code>required</code></td>
                      <td>Alternative text for accessibility</td>
                    </tr>
                    <tr>
                      <td><code>caption</code></td>
                      <td><code>string</code></td>
                      <td><code>undefined</code></td>
                      <td>Figure caption (supports HTML formatting)</td>
                    </tr>
                    <tr>
                      <td><code>size</code></td>
                      <td><code>"small" | "medium" | "large" | "full"</code></td>
                      <td><code>"medium"</code></td>
                      <td>The display size of the figure</td>
                    </tr>
                    <tr>
                      <td><code>align</code></td>
                      <td><code>"left" | "center" | "right"</code></td>
                      <td><code>"center"</code></td>
                      <td>How the figure is aligned within its container</td>
                    </tr>
                    <tr>
                      <td><code>lazy</code></td>
                      <td><code>boolean</code></td>
                      <td><code>true</code></td>
                      <td>Whether to lazy load the image</td>
                    </tr>
                    <tr>
                      <td><code>fallback</code></td>
                      <td><code>string</code></td>
                      <td><code>undefined</code></td>
                      <td>Fallback image URL if the primary image fails to load</td>
                    </tr>
                    <tr>
                      <td><code>priority</code></td>
                      <td><code>boolean</code></td>
                      <td><code>false</code></td>
                      <td>High priority loading for above-the-fold images</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </section>

        <!-- Accessibility Features -->
        <section class="demo-section">
          <div class="section-grid">
            <div class="col-full">
              <h2>Accessibility Features</h2>
              <p class="section-intro">Built-in accessibility support for inclusive user experiences.</p>
            </div>
          </div>

          <div class="section-grid">
            <div class="col-full">
              <div class="accessibility-grid">
                <div class="accessibility-item">
                  <h4>Semantic HTML</h4>
                  <ul>
                    <li>Proper <code>&lt;figure&gt;</code> and <code>&lt;figcaption&gt;</code> elements</li>
                    <li>Descriptive <code>alt</code> attributes for all images</li>
                    <li>Meaningful caption content that adds context</li>
                    <li>Proper heading hierarchy for screen readers</li>
                  </ul>
                </div>

                <div class="accessibility-item">
                  <h4>Loading Performance</h4>
                  <ul>
                    <li>Lazy loading by default for better performance</li>
                    <li>Priority loading option for critical images</li>
                    <li>Automatic fallback handling for broken images</li>
                    <li>Optimized image formats and sizes</li>
                  </ul>
                </div>

                <div class="accessibility-item">
                  <h4>Visual Design</h4>
                  <ul>
                    <li>High contrast mode support</li>
                    <li>Responsive sizing for all device types</li>
                    <li>Clear caption styling and positioning</li>
                    <li>Consistent spacing and alignment</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Design Guidelines -->
        <section class="demo-section">
          <div class="section-grid">
            <div class="col-full">
              <h2>Design Guidelines</h2>
              <p class="section-intro">Best practices for using image components in your interface.</p>
            </div>
          </div>

          <div class="section-grid">
            <div class="col-full">
              <div class="guidelines-grid">
                <div class="guideline-item">
                  <h4>✅ Do</h4>
                  <ul>
                    <li>Always provide meaningful alt text</li>
                    <li>Use captions to add context and value</li>
                    <li>Choose appropriate sizes for the content</li>
                    <li>Optimize images for web delivery</li>
                    <li>Use fallback images for better reliability</li>
                  </ul>
                </div>

                <div class="guideline-item">
                  <h4>❌ Don't</h4>
                  <ul>
                    <li>Use images without alt text</li>
                    <li>Overuse large images that slow page loading</li>
                    <li>Ignore responsive design considerations</li>
                    <li>Use decorative images without semantic purpose</li>
                    <li>Forget to test fallback scenarios</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </main>
  </Fragment>
</Layout>
