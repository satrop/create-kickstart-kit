---
import "../../styles/demo.scss";

import Layout from "../../layouts/Layout.astro";
import { InlineImage } from "../../components/InlineImage";
import { Figure } from "../../components/Figure";
---

<Layout title="Images Demo - Components">
  <Fragment slot="main">
    <main id="main" class="layout-main" aria-label="Main content">
      <div class="demo-page">
        <header class="demo-header">
          <div class="section-grid">
            <div class="col-full">
              <nav class="demo-nav">
                <a href="./components.html" class="btn btn--outline btn--small">‚Üê Back to Components</a>
              </nav>
              <h1>Image Components Demo</h1>
              <p class="demo-subtitle">
                Showcase of the InlineImage and Figure components with various configurations and use cases.
              </p>
            </div>
          </div>
        </header>

        <section class="demo-section">
          <div class="section-grid">
            <div class="col-full">
              <h2>Inline Images</h2>
              <p class="section-intro">
                Inline images are perfect for embedding images within text content with text wrapping around them.
              </p>
            </div>
          </div>
        </section>

        <section class="demo-section">
          <div class="section-grid">
            <div class="col-full">
              <h3>Left-Aligned Inline Images</h3>
              <div class="demo-content contain-floats">
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                  <InlineImage
                    src="/images/image1.jpg"
                    alt="Sample image 1"
                    align="left"
                    size="small"
                    caption="Small left-aligned image"
                  />
                  Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
                  exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit
                  in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
                </p>

                <p>
                  Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est
                  laborum.
                  <InlineImage
                    src="/images/image2.jpg"
                    alt="Sample image 2"
                    align="left"
                    size="medium"
                    caption="Medium left-aligned image with longer caption text"
                  />
                  Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam
                  rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.
                </p>
              </div>
            </div>
          </div>
        </section>

        <section class="demo-section">
          <div class="section-grid">
            <div class="col-full">
              <h3>Right-Aligned Inline Images</h3>
              <div class="demo-content contain-floats">
                <p>
                  Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur
                  magni dolores eos qui ratione voluptatem sequi nesciunt.
                  <InlineImage
                    src="/images/image3.jpg"
                    alt="Sample image 3"
                    align="right"
                    size="medium"
                    caption="Right-aligned medium image"
                  />
                  Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia
                  non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.
                </p>

                <p>
                  Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut
                  aliquid ex ea commodi consequatur?
                  <InlineImage
                    src="/images/image4.jpg"
                    alt="Sample image 4"
                    align="right"
                    size="large"
                    caption="Large right-aligned image"
                  />
                  Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur,
                  vel illum qui dolorem eum fugiat quo voluptas nulla pariatur?
                </p>
              </div>
            </div>
          </div>
        </section>

        <section class="demo-section">
          <div class="section-grid">
            <div class="col-full">
              <h2>Figure Components</h2>
              <p class="section-intro">
                Figure components provide semantic markup for standalone images with captions.
              </p>
            </div>
          </div>
        </section>

        <section class="demo-section">
          <div class="section-grid">
            <div class="col-full">
              <h3>Basic Figures</h3>

              <Figure
                src="/images/image5.jpg"
                alt="Landscape photography example"
                caption="A beautiful landscape captured during golden hour"
                size="medium"
                align="center"
              />

              <Figure
                src="/images/image6.jpg"
                alt="Architecture photography"
                caption="Modern architecture showcasing clean lines and geometric patterns"
                size="large"
                align="center"
              />
            </div>
          </div>
        </section>

        <section class="demo-section">
          <div class="section-grid">
            <div class="col-full">
              <h3>Aligned Figures</h3>

              <Figure
                src="/images/image1.jpg"
                alt="Small figure example"
                caption="Small left-aligned figure"
                size="small"
                align="left"
              />

              <p>
                This paragraph demonstrates how content flows around left-aligned figures. The figure floats to the left
                while this text content flows naturally around it. This is particularly useful for smaller images that
                support the main content without overwhelming it.
              </p>

              <Figure
                src="/images/image2.jpg"
                alt="Small figure example"
                caption="Small right-aligned figure with detailed caption"
                size="small"
                align="right"
              />

              <p>
                Similarly, right-aligned figures work well for supporting images. The text flows around the image
                naturally, creating an organic reading experience. This is especially effective for portraits, icons, or
                supplementary visual content that enhances the main text.
              </p>
            </div>
          </div>
        </section>

        <section class="demo-section">
          <div class="section-grid">
            <div class="col-full">
              <h3>Rich Caption Formatting</h3>

              <Figure
                src="/images/image7.jpg"
                alt="Team collaboration"
                caption="Our development team collaborating on the <em>latest project</em>. Photo by <strong>John Photographer</strong>. <a href='#'>View gallery</a>."
                size="large"
                align="center"
              />
            </div>
          </div>
        </section>

        <section class="demo-section">
          <div class="section-grid">
            <div class="col-full">
              <h3>Full-Width Figure</h3>

              <Figure
                src="/images/image3.jpg"
                alt="Hero image example"
                caption="Full-width figure perfect for hero images and impactful visuals"
                size="full"
                priority={true}
                lazy={false}
              />
            </div>
          </div>
        </section>

        <section class="demo-section">
          <div class="section-grid">
            <div class="col-full">
              <h2>Image Loading States</h2>
              <p class="section-intro">
                All images use the global image handler for consistent loading states and error handling.
              </p>

              <div class="demo-grid">
                <div class="demo-item">
                  <h4>With Fallback</h4>
                  <Figure
                    src="/images/might-not-exist.jpg"
                    alt="Image with fallback"
                    fallback="/images/image1.jpg"
                    caption="This image will fallback to a working image if the primary fails"
                    size="medium"
                  />
                </div>

                <div class="demo-item">
                  <h4>Lazy Loading</h4>
                  <Figure
                    src="/images/image4.jpg"
                    alt="Lazy loaded image"
                    caption="This image will load when it comes into view"
                    size="medium"
                    lazy={true}
                  />
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="demo-section">
          <div class="section-grid">
            <div class="col-full">
              <h2>Usage Examples</h2>
              <p class="section-intro">Code examples for implementing these components.</p>
            </div>
          </div>
        </section>

        <section class="demo-section">
          <div class="section-grid">
            <div class="col-full">
              <h3>Inline Image Code</h3>
              <pre><code>&lt;InlineImage 
  src="/images/example.jpg" 
  alt="Description of image" 
  align="left" 
  size="medium"
  caption="Optional caption text"
/&gt;</code></pre>

              <h3>Figure Code</h3>
              <pre><code>&lt;Figure 
  src="/images/example.jpg" 
  alt="Description of image" 
  caption="Figure caption with &lt;strong&gt;formatting&lt;/strong&gt;"
  size="large"
  align="center"
/&gt;</code></pre>
            </div>
          </div>
        </section>
      </div>
    </main>

    <style lang="scss">
      .demo-content {
        // Clear floats after each paragraph
        p::after {
          content: "";
          display: table;
          clear: both;
        }

        // Clearfix for the entire container
        &::after {
          content: "";
          display: table;
          clear: both;
        }
      }
    </style>
  </Fragment>
</Layout>
