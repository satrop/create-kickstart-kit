---
import Layout from "@/layouts/Layout.astro";
import CheckboxComponent from "@/components/Checkbox/Checkbox.astro";
import DemoNavigation from "../../components/DemoNavigation/DemoNavigation.astro";
import { getFormComponentNavigation } from "../../utils/demoNavigation";
import "@/styles/demo.scss";

// Get navigation items with current page marked as active
const navigationItems = getFormComponentNavigation("checkbox");
---

<Layout title="Checkbox Component Demo">
  <Fragment slot="main">
    <main id="main" class="layout-main" aria-label="Main content">
      <div class="section-grid owl-32">
        <DemoNavigation title="Components" items={navigationItems} />
        <div class="col-4 md:col-4 lg:col-9">
          <div class="component-demo">
            <section class="demo-section">
              <div class="section-grid">
                <div class="col-full">
                  <h2>Basic Usage</h2>
                  <p>Simple checkboxes with labels for basic form interactions.</p>

                  <div class="demo-example">
                    <div class="demo-preview contain-floats">
                      <div class="checkbox-grid">
                        <CheckboxComponent name="basic1" label="Default checkbox" />
                        <CheckboxComponent name="basic2" label="Checked checkbox" checked={true} />
                        <CheckboxComponent name="basic3" label="Disabled checkbox" disabled={true} />
                        <CheckboxComponent name="basic4" label="Disabled checked" checked={true} disabled={true} />
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <section class="demo-section">
              <div class="section-grid">
                <div class="col-full">
                  <h2>Required Checkboxes</h2>
                  <p>Checkboxes with required indicators for form validation.</p>

                  <div class="demo-example">
                    <div class="demo-preview contain-floats">
                      <div class="checkbox-grid">
                        <CheckboxComponent name="required1" label="Accept terms and conditions" required={true} />
                        <CheckboxComponent name="required2" label="Subscribe to newsletter" required={true} />
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <section class="demo-section">
              <div class="section-grid">
                <div class="col-full">
                  <h2>Checkboxes with Help Text</h2>
                  <p>Providing additional context and guidance to users.</p>

                  <div class="demo-example">
                    <div class="demo-preview contain-floats">
                      <div class="checkbox-grid">
                        <CheckboxComponent
                          name="help1"
                          label="Enable notifications"
                          helpText="You'll receive updates about your account and new features."
                        />
                        <CheckboxComponent
                          name="help2"
                          label="Two-factor authentication"
                          helpText="Add an extra layer of security to your account using SMS or authenticator apps."
                          required={true}
                        />
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <section class="demo-section">
              <div class="section-grid">
                <div class="col-full">
                  <h2>Error States</h2>
                  <p>Checkboxes showing validation errors and feedback.</p>

                  <div class="demo-example">
                    <div class="demo-preview contain-floats">
                      <div class="checkbox-grid">
                        <CheckboxComponent
                          name="error1"
                          label="Accept privacy policy"
                          required={true}
                          error="You must accept the privacy policy to continue."
                        />
                        <CheckboxComponent
                          name="error2"
                          label="Confirm your age"
                          required={true}
                          error="Please confirm you are 18 years or older."
                        />
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <section class="demo-section">
              <div class="section-grid">
                <div class="col-full">
                  <h2>Checkbox Groups</h2>
                  <p>Multiple related checkboxes for selecting multiple options.</p>

                  <div class="demo-example">
                    <div class="demo-preview contain-floats">
                      <fieldset class="checkbox-fieldset">
                        <legend class="checkbox-fieldset__legend">Select your interests:</legend>
                        <div class="checkbox-grid">
                          <CheckboxComponent name="interests" value="technology" label="Technology" />
                          <CheckboxComponent name="interests" value="design" label="Design" />
                          <CheckboxComponent name="interests" value="business" label="Business" />
                          <CheckboxComponent name="interests" value="marketing" label="Marketing" />
                        </div>
                      </fieldset>

                      <fieldset class="checkbox-fieldset">
                        <legend class="checkbox-fieldset__legend">Account preferences:</legend>
                        <div class="checkbox-grid">
                          <CheckboxComponent
                            name="preferences"
                            value="email-updates"
                            label="Email updates"
                            helpText="Receive weekly digest emails"
                          />
                          <CheckboxComponent
                            name="preferences"
                            value="sms-alerts"
                            label="SMS alerts"
                            helpText="Get important notifications via text"
                          />
                          <CheckboxComponent
                            name="preferences"
                            value="push-notifications"
                            label="Push notifications"
                            helpText="Browser and mobile app notifications"
                            checked={true}
                          />
                        </div>
                      </fieldset>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <!-- Accessibility Features -->
            <section class="demo-section">
              <div class="section-grid">
                <div class="col-full">
                  <h2>Accessibility Features</h2>
                  <p class="section-intro">Built-in accessibility support for inclusive user experiences.</p>
                </div>
              </div>

              <div class="section-grid">
                <div class="col-full">
                  <div class="accessibility-grid">
                    <div class="accessibility-item">
                      <h4>Keyboard Navigation</h4>
                      <ul>
                        <li><kbd>Tab</kbd> - Move focus to checkbox</li>
                        <li><kbd>Space</kbd> - Toggle checkbox state</li>
                        <li><kbd>Shift + Tab</kbd> - Move focus backwards</li>
                      </ul>
                    </div>

                    <div class="accessibility-item">
                      <h4>Screen Reader Support</h4>
                      <ul>
                        <li>Proper labeling with <code>label</code> elements</li>
                        <li>Required state announced</li>
                        <li>Error messages linked with <code>aria-describedby</code></li>
                        <li>Invalid state indicated with <code>aria-invalid</code></li>
                      </ul>
                    </div>

                    <div class="accessibility-item">
                      <h4>Visual Indicators</h4>
                      <ul>
                        <li>Focus outline for keyboard navigation</li>
                        <li>Clear checked/unchecked states</li>
                        <li>Disabled state styling</li>
                        <li>Error state visual feedback</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </section>
          </div>
        </div>
      </div>
    </main>
  </Fragment>
</Layout>
