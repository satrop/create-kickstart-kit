---
import Layout from "@/layouts/Layout.astro";
import RadioGroupComponent from "@/components/RadioGroup/RadioGroup.astro";
import Button from "@/components/Button/Button.astro";

import DemoNavigation from "@/components/DemoNavigation/DemoNavigation.astro";
import { getFormComponentNavigation } from "@/utils/demoNavigation";
import "@/styles/demo.scss";

// Get navigation items with current page marked as active
const navigationItems = getFormComponentNavigation("radio-group");
---

<Layout title="RadioGroup Component">
  <Fragment slot="main">
    <main id="main" class="layout-main" aria-label="Main content">
      <div class="section-grid owl-32">
        <DemoNavigation title="Form Components" items={navigationItems} />
        <div class="col-4 md:col-4 lg:col-9">
          <div class="component-demo">
            <section class="demo-section">
              <div class="section-grid">
                <div class="col-full">
                  <h2>Basic Usage</h2>
                  <p>A simple radio group with vertical orientation (default).</p>

                  <div class="demo-example">
                    <div class="demo-preview contain-floats">
                      <form class="demo-form">
                        <RadioGroupComponent
                          name="preference"
                          label="What's your preferred contact method?"
                          options={[
                            { value: "email", label: "Email" },
                            { value: "phone", label: "Phone" },
                            { value: "text", label: "Text Message" },
                            { value: "mail", label: "Physical Mail" },
                          ]}
                          value="email"
                        />
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <section class="demo-section">
              <div class="section-grid">
                <div class="col-full">
                  <h2>Horizontal Orientation</h2>
                  <p>Radio buttons arranged horizontally for better space utilization.</p>

                  <div class="demo-example">
                    <div class="demo-preview contain-floats">
                      <form class="demo-form">
                        <RadioGroupComponent
                          name="size"
                          label="T-Shirt Size"
                          orientation="horizontal"
                          options={[
                            { value: "xs", label: "XS" },
                            { value: "s", label: "S" },
                            { value: "m", label: "M" },
                            { value: "l", label: "L" },
                            { value: "xl", label: "XL" },
                            { value: "xxl", label: "XXL" },
                          ]}
                          value="m"
                        />
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <section class="demo-section">
              <div class="section-grid">
                <div class="col-full">
                  <h2>With Help Text</h2>
                  <p>Providing additional context with help text.</p>

                  <div class="demo-example">
                    <div class="demo-preview contain-floats">
                      <form class="demo-form">
                        <RadioGroupComponent
                          name="plan"
                          label="Choose your subscription plan"
                          helpText="You can upgrade or downgrade your plan at any time"
                          options={[
                            { value: "basic", label: "Basic - $9/month" },
                            { value: "pro", label: "Pro - $19/month" },
                            { value: "enterprise", label: "Enterprise - $49/month" },
                          ]}
                          value="pro"
                        />
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <section class="demo-section">
              <div class="section-grid">
                <div class="col-full">
                  <h2>Required Field</h2>
                  <p>RadioGroup with required validation.</p>

                  <div class="demo-example">
                    <div class="demo-preview contain-floats">
                      <form class="demo-form">
                        <RadioGroupComponent
                          name="agreement"
                          label="Do you agree to the terms and conditions?"
                          required={true}
                          options={[
                            { value: "yes", label: "Yes, I agree" },
                            { value: "no", label: "No, I disagree" },
                          ]}
                        />
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <section class="demo-section">
              <div class="section-grid">
                <div class="col-full">
                  <h2>With Disabled Options</h2>
                  <p>Some options can be disabled while others remain selectable.</p>

                  <div class="demo-example">
                    <div class="demo-preview contain-floats">
                      <form class="demo-form">
                        <RadioGroupComponent
                          name="shipping"
                          label="Shipping Options"
                          helpText="Express shipping is temporarily unavailable"
                          options={[
                            { value: "standard", label: "Standard Shipping (5-7 days) - Free" },
                            { value: "priority", label: "Priority Shipping (2-3 days) - $9.99" },
                            { value: "express", label: "Express Shipping (1 day) - $19.99", disabled: true },
                            { value: "overnight", label: "Overnight Shipping - $29.99", disabled: true },
                          ]}
                          value="standard"
                        />
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <section class="demo-section">
              <div class="section-grid">
                <div class="col-full">
                  <h2>Error State</h2>
                  <p>RadioGroup with validation error message.</p>

                  <div class="demo-example">
                    <div class="demo-preview contain-floats">
                      <form class="demo-form">
                        <RadioGroupComponent
                          name="priority"
                          label="Issue Priority"
                          required={true}
                          error="Please select a priority level for your support request"
                          options={[
                            { value: "low", label: "Low - General question" },
                            { value: "medium", label: "Medium - Need help with feature" },
                            { value: "high", label: "High - Service disruption" },
                            { value: "critical", label: "Critical - Complete system failure" },
                          ]}
                        />
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <section class="demo-section">
              <div class="section-grid">
                <div class="col-full">
                  <h2>Complete Form Example</h2>
                  <p>RadioGroup used within a complete form context.</p>

                  <div class="demo-example">
                    <div class="demo-preview contain-floats">
                      <form class="demo-form demo-form--complete">
                        <div class="form-section">
                          <h3>Survey Response</h3>

                          <RadioGroupComponent
                            name="satisfaction"
                            label="How satisfied are you with our service?"
                            required={true}
                            options={[
                              { value: "very-dissatisfied", label: "Very Dissatisfied" },
                              { value: "dissatisfied", label: "Dissatisfied" },
                              { value: "neutral", label: "Neutral" },
                              { value: "satisfied", label: "Satisfied" },
                              { value: "very-satisfied", label: "Very Satisfied" },
                            ]}
                          />

                          <RadioGroupComponent
                            name="recommend"
                            label="Would you recommend us to others?"
                            helpText="Your recommendation helps us improve"
                            options={[
                              { value: "definitely", label: "Definitely" },
                              { value: "probably", label: "Probably" },
                              { value: "maybe", label: "Maybe" },
                              { value: "probably-not", label: "Probably Not" },
                              { value: "definitely-not", label: "Definitely Not" },
                            ]}
                            value="probably"
                          />
                        </div>

                        <div class="form-actions">
                          <Button variant="secondary" type="button">Save Draft</Button>
                          <Button variant="primary" type="submit">Submit Survey</Button>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <!-- Accessibility Features -->
            <section class="demo-section">
              <div class="section-grid">
                <div class="col-full">
                  <h2>Accessibility Features</h2>
                  <p class="section-intro">Built-in accessibility support for inclusive user experiences.</p>
                </div>
              </div>

              <div class="section-grid">
                <div class="col-full">
                  <div class="accessibility-grid">
                    <div class="accessibility-item">
                      <h4>Keyboard Navigation</h4>
                      <ul>
                        <li><kbd>Tab</kbd> - Enter/exit radio group</li>
                        <li><kbd>Arrow Keys</kbd> - Navigate between options</li>
                        <li><kbd>Space</kbd> - Select focused option</li>
                      </ul>
                    </div>

                    <div class="accessibility-item">
                      <h4>Screen Reader Support</h4>
                      <ul>
                        <li>Fieldset and legend for group labeling</li>
                        <li>Proper labels for each radio button</li>
                        <li>Help text linked with <code>aria-describedby</code></li>
                        <li>Error state indicated with <code>aria-invalid</code></li>
                      </ul>
                    </div>

                    <div class="accessibility-item">
                      <h4>Visual Indicators</h4>
                      <ul>
                        <li>Clear focus indicators on options</li>
                        <li>Selected state clearly visible</li>
                        <li>Disabled state styling</li>
                        <li>Error state visual feedback</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </section>
          </div>
        </div>
      </div>
    </main>
  </Fragment></Layout
>
